<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style type="text/css">
*{ padding:0; margin:0; list-style:none;}
.all{ width:330px; height:30px; background:url(img/bg.jpg) no-repeat; margin:100px auto; line-height:30px; text-align:center; padding-left:10px; margin-bottom:0;}
.all ul li{ width:100px; height:30px; background:url(img/libg.jpg); float:left; margin-right:10px; position:relative; cursor:pointer;}
.all ul ul{ position:absolute; left:0; top:30px; display:none;}
</style>
</head>

<body>
<div class="all" id="list">
	<ul>
		<li>一级菜单
			<ul>
				<li>二级菜单</li>
				<li>二级菜单</li>
				<li>二级菜单</li>
			</ul>
		</li>
		<li>一级菜单
			<ul>
				<li>二级菜单</li>
				<li>二级菜单</li>
				<li>二级菜单</li>
			</ul>
		</li>
		<li>一级菜单
			<ul>
				<li>二级菜单</li>
				<li>二级菜单</li>
				<li>二级菜单</li>
			</ul>
		</li>
	</ul>
</div>
</body>
</html>
<script>
	// 获取对象     遍历对象操作     显示模块   隐藏模块	
	function List(id) {
		this.id = document.getElementById(id);
		this.lis = this.id.children[0].children;
	}
	//初始化init
	List.prototype.init = function() {
		var that = this;
		for (var i = 0; i < this.lis.length; i++) {
			// this.lis[i].index = i;
			var timer = null;
			this.lis[i].onmouseover = function(obj) {
				return function() {
					timer = setTimeout(function(){
						that.show(obj.children[0]);
					},300);//显示
				}
					clearTimeout(timer);
			}(this.lis[i]);
			this.lis[i].onmouseout = function (obj) {
				return function() {
					timer = setTimeout(function(){
						that.hide(obj.children[0]);//隐藏
					},300);
				}
					clearTimeout(timer);
			}(this.lis[i]);
		}
	}
	List.prototype.show = function (obj) {
		obj.style.display = "block";
	}
	List.prototype.hide = function (obj) {
		obj.style.display = "none";
	}
	var list = new List("list");
	list.init();
</script>
